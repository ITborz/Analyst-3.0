# AI агент: телеграмм бот "Личный ИИ ассистент" 

## Use Cases для системы планирования в Telegram

---

### UC-1: Загрузка данных для планирования
**Участники:**  
- Основной: Пользователь Telegram  
- Вторичные: Telegram бот, Сервис хранения и обработки данных  

**Предусловия:**  
1. Пользователь авторизован в Telegram  
2. Бот активен и доступен  
3. Сервис хранения и обработки данных  

**Ограничения:**  
1. Обязательные данные: цели, приоритеты, временные ограничения
2. Максимаьное количество целей: 3

**Триггер:** Пользователь нажимает "Начать планирование"

**Основной сценарий:**  
1. Пользователь отправляет сообщение с данными в свободной форме 
2. Система проверяет наличие нужных данных
3. Система проверяет ограничения
4. Система сохраняет данные в профиле пользователя  
5. Бот отправляет подтверждение успешной загрузки  

**Альтернативные сценарии:**  
- Отсутствуют обязательные данные → запрос недостающих данных
- Превышено максимальные количество целей → запрос на изменение/редактирование целей
- Ошибка сервера → уведомление о временной недоступности  

**Постусловия:**  
- Данные сохранены в профиле пользователя  
- Доступны для генерации расписания  

---

### UC-2: Генерация расписания 
**Участники:**  
- Основной: Пользователь Telegram  
- Вторичные: Telegram бот, Сервис хранения и обработки данных, Алгоритм планирования 

**Предусловия:**  
1. Данные для планирования загружены (US-1)  
2. Пользователь выбрал период (день/неделя/месяц)  

**Ограничения:**  
1. Максимальный период: 1 месяц
2. Минимальный временной блок: 30 минут
3. Доступные периоды: день/неделя/месяц

**Триггер:** Пользователь нажимает "Создать расписание"

**Основной сценарий:**  
1. Пользователь выбирает период (день/неделя/месяц)
2. Система генерирует расписание на основе загруженных данных
3. Бот отправляет расписание в виде интерактивного сообщения
4. Бот запрашивает подтверждение или изменение расписания
4. Пользователь подтверждает расписание

**Альтернативные сценарии:**  
- Недостаточно данных → запрос дополнительной информации
- Ошибка генерации → уведомление с временем решения
- Пользователь не подтвердил → напоминание через 1 час

**Постусловия:**  
- Расписание сохранено в истории
- Расписание доступно для просмотра и редактирования

---

### UC-3: Редактирование расписания 
**Участники:**  
- Основной: Пользователь Telegram  
- Вторичные: Telegram бот, Сервис хранения и обработки данных

**Предусловия:**  
1. Расписание сгенерировано (UC-2)  
2. Пользователь открыл расписание  

**Ограничения:**  
1. История изменений хранится 30 дней  
2. Одновременно могут редактировать только с 1 устройства  

**Триггер:** Пользователь нажимает "Редактировать расписание"  

**Основной сценарий:**  
1. Пользователь выбирает задачу для редактирования  
2. Система показывает доступные параметры изменения  
3. Пользователь вносит изменения
4. Система сохраняет новую версию  
5. Бот подтверждает успешное изменение  

**Альтернативные сценарии:**  
- Конфликт изменений → запрос выбора версии  
- Ошибка синхронизации → уведомление о проблеме  
- Отмена редактирования → возврат к исходному расписанию  

**Постусловия:**  
- Новая версия расписания сохранена  
- Изменение отражено в истории  

---

### UC-4: Анализ и рекомендации 
**Участники:**  
- Основной: Пользователь Telegram  
- Вторичные: Telegram бот, Сервис хранения и обработки данных, Аналитический модуль  

**Предусловия:**  
1. Имеется история сгенерированных расписаний
2. Прошло ≥1 дня с момента использования расписания  
3. Есть данные о выполнении задач  

**Ограничения:**  
1. Анализ доступен только за текущий период
2. Отчеты генерируются раз в сутки
3. Комментарии ограничены 2000 символов

**Триггер:** Наступление времени отчета (21:00)  

**Основной сценарий:**  
1. Система анализирует выполнение задач  
2. Генерируется отчет с графиками прогресса  
3. Формируются персонализированные рекомендации 
4. Бот отправляет отчет пользователю
5. Пользователю предлагается внести комментарии
6. Пользователь добавляет комментарии и/или нажимает "ок"
7. Отчет сохраняется в системе


**Альтернативные сценарии:**  
- Нет данных для анализа → базовые рекомендации  
- Пользователь запрашивает отчет досрочно → ограниченный анализ  
- Пользователь пишет комментарий, превышеющий максимально возможную длину → напоминание об ограничении и просьба отредактировать
- Ошибка генерации → сообщение о переносе отчета  

**Постусловия:**  
- Отчет сохранен в истории  
- Рекомендации доступны для применения  