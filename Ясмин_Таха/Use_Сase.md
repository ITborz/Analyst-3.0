#### **AI Агент: "BudgetBot" – Телеграм-бот для учета личных финансов**

---
#### 2. User Story  

Шаблон:  
Как, \<роль\>, я хочу \<функцию\>, чтобы \<ценность\>.  

User Story:  

Как: Пользователь, который хочет контролировать свои финансы
Я хочу: Вносить свои траты и доходы простыми командами
Чтобы: Иметь историю операций и понимать, куда уходят деньги

---

#### Use Case: Запись новой финансовой транзакции
**Акторы:**  
- Пользователь (человек, управляющий личным бюджетом)
- BudgetBot (Telegram-бот для учета финансов)

**Предусловия:**  
1. Пользователь авторизован в Telegram  
2. Пользователь уже начал диалог с ботом (отправил /start)
3. Бот активен и готов принимать команды

**Ограничения:**  
1. Бот понимает только текстовые команды (не обрабатывает голосовые сообщения).
2. Категория транзакции определяется автоматически (если не указана – используется "Другое").
3. Максимальная сумма транзакции (не требующая подтверждения) – 10 000 000 руб. (защита от ошибок).

**Триггер:** 
Пользователь отправляет боту сообщение в формате:

- "Доход [сумма] [категория]"
- "Расход [сумма] [категория]"

**Основной сценарий:**  
1. Система предлагает ввести данные по шаблону (шаблон в самом сообщении)
2. Пользователь отправляет сообщение с данными по шаблону или в свободной форме
3. Система проверяет наличие нужных данных
4. Система проверяет ограничения
5. Система обновляет баланс пользователя и выводит подтверждение

**Альтернативные сценарии:**  
- Отсутствуют обязательные данные → запрос недостающих данных
- Неверный формат → запрос на редактирование
- Категория отсутствует → уведомление о записи в раздел "другое"
- Сумма превышает лимит → запрос подтверждения данной транзакции
- Ошибка сервера → уведомление о временной недоступности

**Постусловия:**  
- Транзакция сохранена в базе данных
- Баланс пользователя обновлен
- Пользователь видит актуальный остаток средств

**Дополнительные пояснения:**
- Категории по умолчанию: Бот может автоматически определять категории по ключевым словам:
"еда", "кофе", "ресторан" → Еда
"такси", "метро", "бензин" → Транспорт
"квартира", "аренда", "коммуналка" → Жилье
- Баланс: Рассчитывается как (Все доходы) - (Все расходы) и выводится после каждой операции.

---